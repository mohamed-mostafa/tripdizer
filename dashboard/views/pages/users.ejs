<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>G2G | Dashboard</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <!-- Bootstrap 3.3.2 -->
    <link href="/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />    
    <!-- FontAwesome 4.3.0 -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons 2.0.0 -->
    <link href="https://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />    
    <!-- Theme style -->
    <link href="/dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <!-- AdminLTE Skins. Choose a skin from the css/skins 
         folder instead of downloading all of them to reduce the load. -->
    <link href="/dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />
    <!-- iCheck -->
    <link href="/plugins/iCheck/flat/blue.css" rel="stylesheet" type="text/css" />
    <!-- Morris chart -->
    <!-- <link href="/plugins/morris/morris.css" rel="stylesheet" type="text/css" /> -->
    <!-- jvectormap -->
    <!-- <link href="/plugins/jvectormap/jquery-jvectormap-1.2.2.css" rel="stylesheet" type="text/css" /> -->
    <!-- Date Picker -->
    <!-- <link href="/plugins/datepicker/datepicker3.css" rel="stylesheet" type="text/css" /> -->
    <!-- Daterange picker -->
    <!-- <link href="/plugins/daterangepicker/daterangepicker-bs3.css" rel="stylesheet" type="text/css" /> -->
    <!-- bootstrap wysihtml5 - text editor -->
    <link href="/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css" rel="stylesheet" type="text/css" />
 	<!-- DATA TABLES -->
    <link href="../../plugins/datatables/dataTables.bootstrap.css" rel="stylesheet" type="text/css" />
	<!-- g2g stylesheet -->
    <link href="/g2g/css/g2g.css" rel="stylesheet" type="text/css" />
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body ng-app="G2GControlCenterApplication" class="skin-blue">
    <div class="wrapper">
      
      <header class="main-header">
        <% include ../partials/header %>
      </header>
      
      <!-- Left side column. contains the logo and sidebar -->
      <aside class="main-sidebar">
       <% include ../partials/side %>
      </aside>

      <!-- Contains the navbar and content of the page -->
      <div class="content-wrapper" ng-controller="UsersPageContentController">
        <!-- Content Header (Page header) -->
        <section class="content-header">
          <h1>
            HWS Dashboard
            <small>Users</small>
          </h1>
          <ol class="breadcrumb">
            <li><a href="home"><i class="fa fa-dashboard"></i> Home</a></li>
            <li class="active">Users</li>
          </ol>
        </section>
        <!-- Main content -->
        <section class="content">
          <!-- Small boxes (Stat box) -->
          <div class="box">
                <div class="box-header">
                  <h3 class="box-title">Users</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
				<div class="overlay"  ng-show="loading == true">
                  <i class="fa fa-refresh fa-spin"></i>
                </div>
                <div class="box-body table-responsive no-padding"  ng-show="loading == false">
                  <table id="usersTable" class="table table-bordered table-striped">
                    <thead>
                      <tr>
                        <th>Username</th>
                        <th>Password</th>
                        <th>Full Name</th>
                        <th>Phone</th>
                        <th></th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr ng-repeat="user in users">
                        <td ng-bind="user.username"></td>
                        <td ng-bind="user.password"></td>
                        <td ng-bind="user.fullName"></td>
                        <td ng-bind="user.phone"></td>
                        <td><i class="fa fa-edit cursor" ng-click="openEditDialog(user.id)"> Edit</i></td>
                        <td>
                        	<i class="ion-ios-pause cursor" ng-show="user.active==true" ng-click="toggleActivation(user.id)"> Deactivate</i>
                        	<i class="ion-ios-play cursor" ng-show="user.active==false" ng-click="toggleActivation(user.id)"> Activate</i>
							<i class="fa fa-refresh fa-spin" ng-show="saving==true && currentId == user.id"></i>
                        </td>
                      </tr>
                    </tbody>
					<tfooter>
                      <tr>
                        <td colspan="6"><button type="button" class="btn btn-primary pull-right" data-toggle="modal" data-target="addUserModal" ng-click="openAddDialog()">Add User</button></td>
                      </tr>
                    </tfooter>
                   </table>
					</div>
                </div><!-- /.box-body -->
              </div><!-- /.box -->
          <!-- Main row -->
          <div class="row">
		
		<!-- MODALS -->
        
		<div class="modal fade" id="addUserModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		        <h4 class="modal-title" id="myModalLabel">Add or Modify User</h4>
		      </div>
		      <div class="modal-body">
		      	<div class="callout callout-danger" ng-show="serverError==true">
		             <h4>Saving failed!</h4>
		             <p>{{serverErrorMessage}}</p>
		         </div>
		        <form role="form" id="newUserForm">
	                  <div class="box-body">
						<div class="overlay" ng-show="saving == true">
                  			<i class="fa fa-refresh fa-spin"></i>
                		</div>
	                  	<div class="form-group" ng-show="saving==false">

							<label class="control-label text-red" for="username" ng-show="usernameMissing==true"><i class="fa fa-times-circle-o"></i>Username is missing</label>
	                      	<label for="username" ng-show="usernameMissing==false">User name</label>
	                      	<input type="text" required class="form-control" id="username" ng-model="newUser.username" placeholder="Enter username" required>
							
							<label class="control-label text-red" for="password" ng-show="passwordMissing==true"><i class="fa fa-times-circle-o"></i>Password is missing</label>
	                      	<label for="password" ng-show="passwordMissing==false">Password</label>
	                      	<input type="text" required class="form-control" id="password" ng-model="newUser.password" placeholder="Enter password" required>
							
							<label class="control-label text-red" for="fullName" ng-show="fullNameMissing==true"><i class="fa fa-times-circle-o"></i>Full name is missing</label>
	                      	<label for="fullName" ng-show="fullNameMissing==false">Full name</label>
	                      	<input type="text" required class="form-control" id="fullName" ng-model="newUser.fullName" placeholder="Enter full name" required>
	                      	
	                      	<label class="control-label text-red" for="phone" ng-show="phoneMissing==true"><i class="fa fa-times-circle-o"></i>Phone is missing</label>
	                      	<label for="phone" ng-show="phoneMissing==false">Phone</label>
	                      	<input type="text" required class="form-control" id="phone" ng-model="newUser.phone" placeholder="Enter phone" required>
                    	
	                    </div><!-- /.form group -->
	                  </div><!-- /.box-body -->
	                </form>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-default pull-left" data-dismiss="modal">Cancel</button>
				<button type="button" class="btn btn-primary" ng-click="addUser(true)" ng-show="editMode==false">Save and close</button>
		        <button type="button" class="btn btn-primary" ng-click="addUser(false)" ng-show="editMode==false">Save and add another</button>
		        <button type="button" class="btn btn-primary" ng-click="editUser()" ng-show="editMode==true">Save</button>
		      </div>
		    </div>
		  </div>
		</div>
        <!-- MODALS END -->

          </div><!-- /.row (main row) -->
        </section><!-- /.content -->
      </div><!-- /.content-wrapper -->
      
      <footer class="main-footer">
        <% include ../partials/footer %>
      </footer>
    </div><!-- ./wrapper -->
  
    <!-- jQuery 2.1.3 -->
    <script src="/plugins/jQuery/jQuery-2.1.3.min.js"></script>
    <!-- jQuery UI 1.11.2 -->
    <script src="https://code.jquery.com/ui/1.11.2/jquery-ui.min.js" type="text/javascript"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
      $.widget.bridge('uibutton', $.ui.button);
    </script>
    <!-- Bootstrap 3.3.2 JS -->
    <script src="/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <!-- Morris.js charts -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script> -->
    <!-- <script src="/plugins/morris/morris.min.js" type="text/javascript"></script> -->
    <!-- Sparkline -->
    <!-- <script src="/plugins/sparkline/jquery.sparkline.min.js" type="text/javascript"></script> -->
    <!-- jvectormap -->
    <!-- <script src="/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js" type="text/javascript"></script> -->
    <!-- <script src="/plugins/jvectormap/jquery-jvectormap-world-mill-en.js" type="text/javascript"></script> -->
    <!-- jQuery Knob Chart -->
    <!-- <script src="/plugins/knob/jquery.knob.js" type="text/javascript"></script> -->
    <!-- daterangepicker -->
    <!-- <script src="/plugins/daterangepicker/daterangepicker.js" type="text/javascript"></script> -->
    <!-- datepicker -->
    <!-- <script src="/plugins/datepicker/bootstrap-datepicker.js" type="text/javascript"></script> -->
    <!-- Bootstrap WYSIHTML5 -->
    <script src="/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js" type="text/javascript"></script>
    <!-- iCheck -->
    <script src="/plugins/iCheck/icheck.min.js" type="text/javascript"></script>
    <!-- Slimscroll -->
    <script src="/plugins/slimScroll/jquery.slimscroll.min.js" type="text/javascript"></script>
    <!-- FastClick -->
    <script src='/plugins/fastclick/fastclick.min.js'></script>
    <!-- AdminLTE App -->
    <script src="/dist/js/app.min.js" type="text/javascript"></script>
  
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <!-- <script src="/dist/js/pages/dashboard.js" type="text/javascript"></script> -->
  
    <!-- AdminLTE for demo purposes -->
    <!-- <script src="/dist/js/demo.js" type="text/javascript"></script> -->
    <!-- DATA TABES SCRIPT -->
    <script src="../../plugins/datatables/jquery.dataTables.js" type="text/javascript"></script>
    <script src="../../plugins/datatables/dataTables.bootstrap.js" type="text/javascript"></script>
  
    <!-- angular js library and g2g angular js controllers -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
  
    <!-- textAngular -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/textAngular/1.5.0/textAngular-rangy.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/textAngular/1.5.0/textAngular-sanitize.min.js'></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/textAngular/1.5.0/textAngular.min.js'></script>
    <script src='https://fastcdn.org/FileSaver.js/1.1.20151003/FileSaver.min.js'></script>
  
    <script src="/g2g/js/G2GControlCenterApplication.js" type="text/javascript"></script>
    <script src="/g2g/js/UsersPageContentController.js" type="text/javascript"></script>
    <script src="/g2g/js/HeaderContentController.js" type="text/javascript"></script>
  </body>
  
  </html>